@model ProductVM

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Product</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container my-5">
        <div class="row">
            <!-- Form Section -->
            <div class="col-md-10">
                <h2 class="mb-4">@(Model.Product.Id == 0 ? "Create New " : "Update") Product</h2>
                <form method="post" asp-controller="Product" enctype="multipart/form-data">
                    @* image url isnt in any input field so it is keepen hidden here. *@
                    <input asp-for="Product.ImageUrl"  hidden/>
                    <div class="mb-3">
                        <label class="form-label">Product Title</label>
                        <input type="text" class="form-control" placeholder="Enter title" asp-for="Product.Title" >
                        <span asp-validation-for="Product.Title" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <input type="text" asp-for="Product.Description" class="form-control" placeholder="Enter Description" >
                        <span asp-validation-for="Product.Description" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ModelYear</label>
                        <input type="text" asp-for="Product.ModelYear" class="form-control" placeholder="Enter ModelYear">
                        <span asp-validation-for="Product.ModelYear" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Brand</label>
                        <input type="text" asp-for="Product.Brand" class="form-control" placeholder="Enter Brand" >
                        <span asp-validation-for="Product.Brand" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Engine Capacity</label>
                        <input type="number" asp-for="Product.EngineCapacity" class="form-control" placeholder="Enter EngineCapacity">
                        <span asp-validation-for="Product.EngineCapacity" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Price</label>
                        <input type="number" asp-for="Product.Price" class="form-control" placeholder="Enter Price" >
                        <span asp-validation-for="Product.Price" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Mileage</label>
                        <input type="number" asp-for="Product.Mileage" class="form-control" placeholder="Enter Mileage">
                        <span asp-validation-for="Product.Mileage" class="text-danger"></span>
                    </div>

                    <div class="form-floating py-2 col-12">
                        <select asp-for="@Model.Product.CategoryId" asp-items="@Model.CategoryList" class="form-select border-0 shadow">
                            <option disabled selected>--Select Category--</option>
                        </select>
                        <label asp-for="Product.CategoryId" class="ms-2"></label>
                        <span asp-validation-for="Product.CategoryId" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <input type="file" name="file" class="form-control" >
                    </div>
                    <button type="submit" class="btn btn-primary">@(Model.Product.Id == 0 ? "Create" : "Update")</button>
                    <a href="@Url.Action("Index", "Category")" class="btn btn-secondary">Cancel</a>
                </form>
            </div>
            <!-- Image Section -->
            <div class="col-md-2 d-flex align-items-start justify-content-center">
                @if (!string.IsNullOrEmpty(Model.Product.ImageUrl))
                {
                    <img src="@Model.Product.ImageUrl" width="100%" alt="Product Image" />
                }
                else
                {
                    <p>No image available</p>
                }
            </div>

        </div>
    </div>
</body>
</html>
